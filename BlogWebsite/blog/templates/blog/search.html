{% extends 'blog/base.html' %}

{% block content %} 

<div class="d-flex justify-content-center mt-5">
    <form class="form-inline w-50" action="/search" method="GET">
      <div class="form-group">
        <input type="text" class="form-control" name="query" placeholder="Search">
      </div>
      <div class="form-group">
        <input type="date" class="form-control" name="publish_date" placeholder="Publish Date">
      </div>
      <button type="submit" class="btn btn-primary mt-2">Search</button>
    </form>
  </div>

<div class="row g-4">

    <div class="d-flex justify-content-between align-items-center m-5">
        <h2>Search Results ({{ posts.count }})</h2>
    </div>

</div>

<div class="row mt-2 g-5 m-5">

    {% for post in posts %}
        <div class="col-4">
            <div class="d-flex flex-column gap-2 border border-1 shadow p-3 rounded-4 h-100">
                <img src="{{ post.poster.url }}"  class="w-100 rounded-4"/>
                <h6 class="cat pt-1 pb-1 ps-3 pe-3 rounded-pill {{post.category}} ">{{ post.category }}</h6>
                <h6 class="text-muted">{{ post.published_at }}</h6>
                <h2><a href="{% url 'blog:post_detail_view' post.id  %}" class="text-decoration-none">{{post.title}}</a></h2>
            </div>
        </div>
    {% endfor %}

</div>

{% endblock %}

